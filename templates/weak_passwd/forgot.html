{% extends "base.html" %}

{% block main_body %}
<div class="mt-7 grid grid-cols-5">
    <div class="col-span-2 col-start-3 m-3 text-4xl font-bold text-green-700">
        Reset School Password
    </div>

    {% if not otp %}
    <form
        class="col-span-3 col-start-3 w-1/3 bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col text-xl"
    >
        <div class="mb-4">
            <label class="block text-green-700 font-bold mb-2" for="roll_no">
                Roll Number
            </label>
            <input class="shadow appearance-none border focus:border-green-500 rounded w-full py-2 px-3 text-gray-700"
                name="roll_no" type="text" placeholder="Roll Number">
        </div>

        <div class="mb-4">
            <label class="block text-green-700 font-bold mb-2" for="roll_no">
                DOB
            </label>
            <input class="shadow appearance-none border focus:border-green-500 rounded w-full py-2 px-3 text-gray-700"
                name="dob" type="text" placeholder="Date of Birth (YYYY-MM-DD)">
        </div>

        <div class="flex items-center justify-between">
            <button class="bg-green-700 hover:bg-green-500 text-white font-bold py-2 px-4 rounded" type="submit">
                Send OTP
            </button>
            <a class="cursor-pointer inline-block align-baseline font-bold text-base text-blue-700 hover:text-blue-400" onclick="window.history.back()">
                Back
            </a>
        </div>
    </form>
    {% endif %}

    {% if otp %}
    <form
        class="col-span-3 col-start-3 w-1/3 bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col text-xl"
    >

        <input hidden name="roll_no" value="{{roll_no}}">
        <input hidden name="dob" value="{{dob}}">

        <div class="mb-4">
            <label class="block text-green-700 font-bold mb-2" for="otp">
                OTP
            </label>
            <input class="shadow appearance-none border focus:border-green-500 rounded w-full py-2 px-3 text-gray-700"
                name="otp" type="text" placeholder="Enter 4-digit OTP">
        </div>

        <div class="mb-4">
            <label class="block text-green-700 font-bold mb-2" for="new_password">
                New Password
            </label>
            <input class="shadow appearance-none border focus:border-green-500 rounded w-full py-2 px-3 text-gray-700"
                name="new_password" type="password" placeholder="New Password">
        </div>

        <div class="flex items-center justify-between">
            <button class="bg-green-700 hover:bg-green-500 text-white font-bold py-2 px-4 rounded" type="submit">
                Proceed
            </button>
            <a class="cursor-pointer inline-block align-baseline font-bold text-base text-blue-700 hover:text-blue-400" onclick="window.history.back()">
                Back
            </a>
        </div>
    </form>
    {% endif %}

    {% if message %}
    <div class="font-bold col-span-1 col-start-3 text-lg text-center text-white bg-red-500 b rounded opacity-75 p-2">
        {{ message }}
    </div>
    {% endif %}
</div>
{% endblock %}